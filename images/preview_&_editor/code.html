<!DOCTYPE html>

<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Enterprise Clarity - FSD Preview &amp; Editor</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Material Symbols -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<!-- Theme Configuration -->
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0F172A", // Slate 900
                        "primary-light": "#1e293b", // Slate 800
                        "background-light": "#F8FAFC", // Slate 50
                        "background-dark": "#0F172A", // Slate 900
                        "surface": "#FFFFFF",
                        "border": "#E2E8F0", // Slate 200
                        "text-main": "#334155", // Slate 700
                        "text-muted": "#94A3B8", // Slate 400
                        "accent": "#2563EB", // Royal Blue
                        "success": "#059669", // Emerald 600
                        "warning": "#D97706", // Amber 600
                    },
                    fontFamily: {
                        "sans": ['"IBM Plex Sans"', "sans-serif"],
                        "mono": ['"JetBrains Mono"', "monospace"],
                        "display": ['"IBM Plex Sans"', "sans-serif"], // Overriding Inter for this specific design direction
                    },
                    borderRadius: {
                        "DEFAULT": "2px",
                        "sm": "2px",
                        "md": "4px",
                        "lg": "6px",
                        "xl": "8px",
                    },
                    boxShadow: {
                        "none": "none",
                        "sm": "0 1px 2px 0 rgb(0 0 0 / 0.05)",
                    }
                },
            },
        }
    </script>
<style>
        /* Custom Scrollbar for administrative feel */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 2px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Editor specific styles */
        .editor-content h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #0F172A;
        }
        .editor-content h2 {
            font-size: 18px;
            font-weight: 600;
            margin-top: 24px;
            margin-bottom: 12px;
            color: #1e293b;
            border-bottom: 1px solid #E2E8F0;
            padding-bottom: 4px;
        }
        .editor-content h3 {
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
            margin-bottom: 8px;
            color: #334155;
        }
        .editor-content p {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 12px;
            color: #334155;
        }
        .editor-content ul {
            list-style-type: disc;
            padding-left: 20px;
            margin-bottom: 12px;
        }
        .editor-content li {
            margin-bottom: 4px;
        }
        .editor-content code {
            font-family: "JetBrains Mono", monospace;
            background-color: #F1F5F9;
            padding: 2px 4px;
            border-radius: 2px;
            font-size: 13px;
            color: #0F172A;
        }
        .editor-content pre {
            background-color: #F8FAFC;
            border: 1px solid #E2E8F0;
            padding: 12px;
            border-radius: 2px;
            overflow-x: auto;
            margin-bottom: 16px;
        }
        .editor-content pre code {
            background-color: transparent;
            padding: 0;
            color: #334155;
        }
        .editor-content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 16px;
            font-size: 13px;
        }
        .editor-content th {
            text-align: left;
            background-color: #F8FAFC;
            padding: 8px 12px;
            border: 1px solid #E2E8F0;
            font-weight: 600;
            color: #0F172A;
        }
        .editor-content td {
            padding: 8px 12px;
            border: 1px solid #E2E8F0;
            color: #334155;
        }
        
        /* A4 Paper Ratio Aspect (approximate for visual) */
        .page-container {
            max-width: 820px; /* A4 width roughly at 96dpi */
            min-height: 1100px;
        }
    </style>
</head>
<body class="bg-background-light text-text-main font-sans antialiased flex flex-col h-screen overflow-hidden">
<!-- Top Navigation Header -->
<header class="h-14 border-b border-border bg-surface flex items-center justify-between px-4 shrink-0 z-20 relative">
<div class="flex items-center gap-4">
<div class="flex items-center text-primary">
<span class="material-symbols-outlined text-2xl mr-2">description</span>
<span class="font-bold text-lg tracking-tight">Enterprise Clarity</span>
</div>
<div class="h-4 w-px bg-border mx-2"></div>
<!-- Breadcrumbs -->
<div class="flex items-center text-sm font-medium text-text-muted gap-2">
<a class="hover:text-primary transition-colors" href="#">Projects</a>
<span class="text-border">/</span>
<a class="hover:text-primary transition-colors" href="#">Payment Gateway V2</a>
<span class="text-border">/</span>
<span class="text-primary bg-primary/5 px-2 py-0.5 rounded font-mono text-xs border border-primary/10">FSD Draft v1.2</span>
</div>
</div>
<div class="flex items-center gap-3">
<div class="text-xs font-mono text-text-muted mr-2 flex items-center gap-1">
<span class="w-2 h-2 rounded-full bg-success"></span>
                Saved just now
            </div>
<button class="flex items-center justify-center h-8 px-3 border border-border bg-white hover:bg-slate-50 text-primary text-xs font-semibold uppercase tracking-wide rounded transition-colors group">
<span class="material-symbols-outlined text-base mr-1.5 text-text-muted group-hover:text-primary">picture_as_pdf</span>
                Export PDF
            </button>
<button class="flex items-center justify-center h-8 px-3 border border-border bg-white hover:bg-slate-50 text-primary text-xs font-semibold uppercase tracking-wide rounded transition-colors group">
<span class="material-symbols-outlined text-base mr-1.5 text-text-muted group-hover:text-primary">article</span>
                Export Word
            </button>
<button class="flex items-center justify-center h-8 px-4 bg-primary hover:bg-primary-light text-white text-xs font-semibold uppercase tracking-wide rounded transition-colors shadow-sm">
                Save to Collection
            </button>
</div>
</header>
<div class="flex flex-1 overflow-hidden">
<!-- Left Sidebar: Outline -->
<aside class="w-64 border-r border-border bg-surface flex flex-col shrink-0 overflow-y-auto">
<div class="p-4 border-b border-border bg-slate-50/50">
<h3 class="text-xs font-bold text-text-muted uppercase tracking-wider mb-1">Document Outline</h3>
<p class="text-[11px] text-text-muted">Navigate sections</p>
</div>
<nav class="flex flex-col py-2">
<a class="px-4 py-2 text-sm text-text-main hover:bg-slate-50 border-l-2 border-transparent hover:border-border transition-colors truncate" href="#">
                    1. Introduction
                </a>
<a class="px-4 py-2 text-sm text-text-main hover:bg-slate-50 border-l-2 border-transparent hover:border-border transition-colors truncate" href="#">
                    2. Scope
                </a>
<a class="px-4 py-2 text-sm text-primary font-medium bg-primary/5 border-l-2 border-primary transition-colors truncate" href="#">
                    3. Functional Requirements
                </a>
<div class="flex flex-col pl-4">
<a class="px-4 py-1.5 text-xs text-text-main hover:text-accent hover:bg-slate-50 border-l-2 border-transparent transition-colors truncate" href="#">
                        3.1 Idempotency Keys
                    </a>
<a class="px-4 py-1.5 text-xs text-text-main hover:text-accent hover:bg-slate-50 border-l-2 border-transparent transition-colors truncate" href="#">
                        3.2 Error Handling
                    </a>
<a class="px-4 py-1.5 text-xs text-text-main hover:text-accent hover:bg-slate-50 border-l-2 border-transparent transition-colors truncate" href="#">
                        3.3 Webhooks
                    </a>
</div>
<a class="px-4 py-2 text-sm text-text-main hover:bg-slate-50 border-l-2 border-transparent hover:border-border transition-colors truncate" href="#">
                    4. Data Models
                </a>
<a class="px-4 py-2 text-sm text-text-main hover:bg-slate-50 border-l-2 border-transparent hover:border-border transition-colors truncate" href="#">
                    5. Security Constraints
                </a>
</nav>
<div class="mt-auto p-4 border-t border-border">
<div class="bg-slate-50 p-3 rounded border border-border">
<div class="flex items-center justify-between mb-2">
<span class="text-xs font-semibold text-primary">Analysis</span>
<span class="text-[10px] font-mono bg-success/10 text-success px-1.5 rounded">PASSED</span>
</div>
<div class="space-y-2">
<div class="flex items-center gap-2 text-xs text-text-muted">
<span class="material-symbols-outlined text-sm text-success">check_circle</span>
<span>Citations verified</span>
</div>
<div class="flex items-center gap-2 text-xs text-text-muted">
<span class="material-symbols-outlined text-sm text-success">check_circle</span>
<span>Format valid</span>
</div>
</div>
</div>
</div>
</aside>
<!-- Main Editor Area -->
<main class="flex-1 flex flex-col bg-background-light overflow-hidden relative">
<!-- Sticky Toolbar -->
<div class="h-12 border-b border-border bg-surface flex items-center px-4 justify-between shrink-0 z-10 shadow-sm sticky top-0">
<div class="flex items-center gap-1">
<!-- Text Formatting -->
<div class="flex items-center gap-0.5 border-r border-border pr-2 mr-2">
<div class="relative group">
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Heading 1">
<span class="font-serif font-bold text-lg">H1</span>
</button>
</div>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Heading 2">
<span class="font-serif font-bold text-sm">H2</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Bold">
<span class="material-symbols-outlined text-[20px]">format_bold</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Italic">
<span class="material-symbols-outlined text-[20px]">format_italic</span>
</button>
</div>
<!-- Lists & Alignment -->
<div class="flex items-center gap-0.5 border-r border-border pr-2 mr-2">
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Bullet List">
<span class="material-symbols-outlined text-[20px]">format_list_bulleted</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Numbered List">
<span class="material-symbols-outlined text-[20px]">format_list_numbered</span>
</button>
</div>
<!-- Inserts -->
<div class="flex items-center gap-0.5">
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Code Block">
<span class="material-symbols-outlined text-[20px]">code</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Table">
<span class="material-symbols-outlined text-[20px]">table_chart</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Insert Citation">
<span class="material-symbols-outlined text-[20px]">format_quote</span>
</button>
<button class="w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 text-text-main transition-colors" title="Add Image">
<span class="material-symbols-outlined text-[20px]">image</span>
</button>
</div>
</div>
<div class="flex items-center gap-2">
<span class="text-xs font-mono text-text-muted">Markdown Mode</span>
<div class="relative inline-flex h-5 w-9 items-center rounded-full bg-slate-200">
<span class="inline-block h-3.5 w-3.5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out translate-x-1"></span>
</div>
</div>
</div>
<!-- Editor Canvas Scroll Area -->
<div class="flex-1 overflow-y-auto p-8 flex justify-center bg-slate-100/50">
<!-- The Page -->
<div class="page-container bg-surface shadow-sm border border-border p-[60px] relative">
<!-- Document Header -->
<div class="mb-12 border-b-2 border-primary pb-6">
<div class="flex justify-between items-start mb-4">
<h1 class="text-3xl font-bold text-primary tracking-tight font-sans">Functional Specification: Payment Gateway V2</h1>
<div class="bg-warning/10 text-warning border border-warning/20 px-2 py-1 rounded text-xs font-mono font-medium uppercase">Draft</div>
</div>
<div class="grid grid-cols-2 gap-4 text-sm text-text-main">
<div>
<span class="block text-xs text-text-muted font-mono uppercase">Client</span>
<span class="font-medium">Acme Corp.</span>
</div>
<div>
<span class="block text-xs text-text-muted font-mono uppercase">Version</span>
<span class="font-medium font-mono">v1.2</span>
</div>
<div>
<span class="block text-xs text-text-muted font-mono uppercase">Date</span>
<span class="font-medium font-mono">2023-10-24</span>
</div>
<div>
<span class="block text-xs text-text-muted font-mono uppercase">Author</span>
<span class="font-medium">System (Verified by Sarah M.)</span>
</div>
</div>
</div>
<!-- Editor Content -->
<div class="editor-content">
<!-- 1. Introduction -->
<h1 id="introduction">1. Introduction</h1>
<p>This document outlines the technical specifications for the new Payment Gateway V2 integration. The primary objective is to facilitate secure, idempotent transaction processing while maintaining backward compatibility with legacy systems.</p>
<!-- 2. Scope -->
<h1 id="scope">2. Scope</h1>
<p>The scope of this FSD includes the design of the RESTful API endpoints, the data models for transaction objects, and the asynchronous webhook notification system. Frontend implementation details are explicitly out of scope.</p>
<!-- 3. Functional Requirements -->
<h1 id="functional-requirements">3. Functional Requirements</h1>
<p>The system must support high-volume transaction processing with a guarantee of exactly-once delivery semantics for payment captures.</p>
<h2 id="idempotency-keys">3.1 Idempotency Keys</h2>
<p>To safely retry requests without accidentally performing the same operation twice, all POST requests must support <code>Idempotency-Key</code> headers.</p>
<div class="bg-primary/5 border-l-4 border-primary p-4 my-4">
<p class="text-sm m-0 italic text-primary"><strong>Requirement:</strong> The API must cache the result of an idempotent request for 24 hours.</p>
</div>
<p>Example request headers:</p>
<pre><code>POST /v2/charges
Host: api.acmecorp.com
Idempotency-Key: 8225419d-7b23-4f91-9128-56456456456
Content-Type: application/json</code></pre>
<h2 id="error-handling">3.2 Error Handling</h2>
<p>The API uses standard HTTP status codes to indicate the success or failure of an API request.</p>
<!-- Table Example -->
<table>
<thead>
<tr>
<th>Code</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="text-success">200</code></td>
<td>OK</td>
<td>The request was successful.</td>
</tr>
<tr>
<td><code class="text-warning">400</code></td>
<td>Bad Request</td>
<td>The request was unacceptable, often due to missing parameters.</td>
</tr>
<tr>
<td><code class="text-warning">401</code></td>
<td>Unauthorized</td>
<td>No valid API key provided.</td>
</tr>
<tr>
<td><code class="text-warning">429</code></td>
<td>Too Many Requests</td>
<td>Too many requests hit the API too quickly.</td>
</tr>
</tbody>
</table>
<h2 id="webhooks">3.3 Webhooks</h2>
<p>Webhooks are used to notify your application when an event happens in your account. Webhooks are particularly useful for asynchronous events like when a customer's bank confirms a payment.</p>
<!-- Image placeholder with data-alt -->
<div class="my-6 border border-border rounded overflow-hidden">
<img alt="UML Sequence Diagram showing webhook retry logic and exponential backoff strategy" class="w-full h-auto object-cover" data-alt="UML Sequence Diagram showing webhook retry logic and exponential backoff strategy" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAAgqpzfvxpLDfSEOLq-wLZjx4nwbaayVnRkvN83V1EyKwmmDGeDjq7mkC7OB7qW25bvgV0MaUyHe0DK0JrPaYVz3YrNQlyrssDMC-HT2qLpT1YLK6MPJI4rTBj978LM3_9hgGIQZ4mxZeM6lFAHX-3FZmn94zNB2UmbFQUX1DLcnKb21-cgSq9mDCvEvrc-J8ydy47wEJ_eGykMovZcRYMrQcy7vd039dQRGcmCZ4SESBsyhi4TGnD0KMwyFEYraZMpjtCSPsgc803"/>
<div class="bg-slate-50 p-2 text-center border-t border-border">
<span class="text-xs text-text-muted font-mono">Figure 1: Webhook Retry Sequence</span>
</div>
</div>
</div>
<!-- Page Footer / Page Number -->
<div class="absolute bottom-8 right-10 text-xs text-text-muted font-mono">
                        Page 1 of 4
                    </div>
</div>
<div class="h-20"></div> <!-- Spacer for scroll -->
</div>
<!-- Bottom Status Bar -->
<div class="h-8 bg-surface border-t border-border flex items-center justify-between px-4 shrink-0 text-[11px] font-mono text-text-muted">
<div class="flex items-center gap-4">
<span>Document ID: <span class="text-text-main">FSD-2049-V2</span></span>
<span class="border-l border-border h-3 mx-1"></span>
<span>Words: <span class="text-text-main">1,240</span></span>
<span class="border-l border-border h-3 mx-1"></span>
<span>Chars: <span class="text-text-main">8,402</span></span>
</div>
<div class="flex items-center gap-2">
<span class="w-1.5 h-1.5 rounded-full bg-success"></span>
<span>Online</span>
</div>
</div>
</main>
</div>
</body></html>